<!DOCTYPE html>
<html lang="es_MX" class="overflow-y-hidden">
<head>
	<meta charset="UTF-8">
	<!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="styles.css">
	<title>Invitación</title>
</head>
<body class="d-flex flex-column align-items-center justify-content-center">
	<div class="cover">
		<div class="envelope">
			<div class="top">
				<button onclick="OnOpenClick()" class="btn btn-danger rounded rounded-pill ff-dynapuff">Abrir</button>
			</div>
		</div>
	</div>
	<div class="m-wrapper">
		<main class="text-center">
			<audio autoplay controls loop id="Music" class="container mx-auto" preload="auto">
				<source src="media/BlueySong.mp3" type="audio/mpeg">
			</audio>
			<br class="user-select-none">
			<br class="user-select-none">
			<div class="row rounded bg-main p-2">
				<div class="rounded border border-primary pt-2">
					<h4 class="ff-kristen" style="color: purple;">¡Hola, hola!</h4>
					<h3 class="ff-dynapuff" style="color: blueviolet;">Te invito a mi <b style="color: violet;">Fiesta</b></h3>
					<h1 class="ff-molle" style="color: #e3007d; margin: -1rem auto -1.8rem auto;">Ana Victoria</h1>
					<h2 class="ff-dynapuff purple-text">Acompáñame a festejar mis <b class="ff-kristen">14</b> años</h2>
				</div>
			</div>

			<div class="row">
				<div class="w-90 mx-auto my-3">
					<img src="img/bluey.gif" alt="Bluey" class="img-fluid">
				</div>
			</div>

			<div class="row border-orchid bg-main" style="font-size: x-large;" id="PartyData"> 
				<div class="col p-3 border-right-orchid">
					<div class="d-flex flex-column text-center align-items-center justify-content-center">
						<span class="purple-text">Sábado</span>
						<span class="pink-text">28</span>
						<span class="purple-text">diciembre</span>
					</div>
				</div>

				<div class="col border-right-orchid">
					<div class="d-flex h-100 flex-column text-center align-items-center justify-content-center">
						<span class="purple-text">Dirección</span>
						<a href="https://maps.app.goo.gl/LDaRjTszTwkfUr3y8" class="pink-text">Jaus Bich</a>
					</div>
				</div>

				<div class="col p-3">
					<div class="d-flex flex-column text-center align-items-center justify-content-center">
						<span class="purple-text">A las</span>
						<span class="pink-text">16:00</span>
						<span class="purple-text">horas</span>
					</div>
				</div>

				<div class="row border-top-orchid">
					<div class="p-5">
						<div class="mb-1 text-center">
							<span class="purple-text">La fiesta es en:</span>
						</div>
						<div class="mb-3 d-flex flex-row align-items-center justify-content-center" id="Timer">
							<span class="pink-text" id="days"> 00: </span>
							<span class="pink-text" id="hours"> 00: </span>
							<span class="pink-text" id="minutes"> 00: </span>
							<span class="pink-text" id="seconds"> 00</span>
						</div>
						<button onclick="GoToAssistance()" class="btn btn-orchid fs-1 ff-dynapuff p-4">Confirmar mi Asistencia</button>
					</div>
				</div>
			</div>
			<form id="Secret" action="https://mikesj.great-site.net/pages/InvitacionAna/assistance.php" method="post"><input type="hidden" name="audioLength" value=""></form>
		</main>
	</div>
<script>
		function OnOpenClick() 
		{
			$('.top').addClass('anim-up');
			$('.cover').addClass('anim-down');
			$('html').removeClass();
		}

		function GoToAssistance()
		{
			$('input', '#Secret').prop('value', document.getElementById("Music").currentTime);
			$('#Secret').submit();
		}

		var i = setInterval(autoNotify, 10);

		function autoNotify() {
			var music = document.getElementById("Music");
			if(music.paused)
				music.play();
			else
				clearInterval(i);
		}

		var x = setInterval(Counter, 1000);

		function Counter()
		{
			const dayTime = document.getElementById("days");
			const hourTime = document.getElementById("hours");
			const minuteTime = document.getElementById("minutes");
			const secondTime = document.getElementById("seconds");

			var targetDate = 'Dec 28, 2024 16:00:00';
			const dateTill = new Date(targetDate).getTime();
			const dateFrom = new Date().getTime();

			const diff = dateTill - dateFrom;

			var days = Math.floor(diff / (1000 * 60 * 60 * 24));
			var hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((diff % (1000 * 60)) / 1000);
						
			const addZeroTo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

			days = `${days}`;

			if (addZeroTo.includes(hours)) {
				hours = `0${hours}`;
			} 
			if (addZeroTo.includes(minutes)) {
				minutes = `0${minutes}`;
			}
			if (addZeroTo.includes(seconds)) {
				seconds = `0${seconds}`;
			}

			//set values to dom 
			dayTime.innerHTML = `${days} :`;
			hourTime.innerHTML = `&nbsp;${hours} :`;
			minuteTime.innerHTML = `&nbsp;${minutes} :`;
			secondTime.innerHTML = `&nbsp;${seconds}`;

			if (diff < 0) {
				clearInterval(x);
				document.getElementById("Timer").innerHTML = "EXPIRADO";
			}
		}
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</body>
</html>